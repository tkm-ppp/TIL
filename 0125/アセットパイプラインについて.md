# アセットパイプラインとは
* 作業がしやすいように画像、javascript、css、htmlファイルを分解してコーディングして、最終的に1つのファイルにまとめる仕組みのこと

* 場所
  *  htmlファイルはapp/viewsに配置
  * javascriptファイルはapp/assets/javascriptsに配置

# アセットパイプラインの動き
## 1.コンパイル
* .js.coffee形式のファイルを.js形式にコンパイル
* .css.scss形式のファイルを.css形式にコンパイル
## 2.統合
コンパイル済みの

* .js形式のファイル達をapplication.js
* .css形式のファイル達をapplication.css
に統合する。

## 3.統合
application.jsとapplication.cssから改行、コメント、空白を取り除く

4.ダイジェスト付与
* 圧縮後のapplication.jsやapplication.cssや画像にハッシュ値というファイル固有の文字列を付与する。
* これによって、編集作業をするごとに全く別のファイルだと認識され、予期せぬキャッシュの適用を防ぐ。

[キャッシュについてのわかりやすいページ](https://wa3.i-3-i.info/word139.html)

[ダイジェストについてのわかりやすいページ](https://wa3.i-3-i.info/word15954.html)

# アセットプリコンパイル
production環境では処理速度に対する影響を防ぐために自動でコンパイルが行われない。
解決方法が二つある。

* アセットプリコンパイルを行う
* 設定を変える
## アセットプリコンパイルを行う
以下のコマンドを実行します
```
rake assets:precompile RAILS_ENV=production
```
### 設定を変える

```
config.assets.compile = true
```

[railsのアセットパイプラインについて解説する](https://qiita.com/uma002/items/9a94ebc93c5f937502cd)

[アセットパイプライン　railsガイド](https://railsguides.jp/asset_pipeline.html)